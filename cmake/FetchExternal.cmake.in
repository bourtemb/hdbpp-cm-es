cmake_minimum_required(VERSION 2.8.2)

project(${FETCH_PROJECT_NAME}-download NONE)
include(ExternalProject)

message(STATUS "External project: ${FETCH_PROJECT_NAME}")
message(STATUS "External project address: '${FETCH_REPOSITORY_ADDRESS}' and tag: '${FETCH_REPOSITORY_TAG}'")

ExternalProject_Add(${FETCH_PROJECT_NAME}
    GIT_REPOSITORY "${FETCH_REPOSITORY_ADDRESS}" 
    GIT_TAG "${FETCH_REPOSITORY_TAG}"
    SOURCE_DIR "${CMAKE_BINARY_DIR}/${FETCH_PROJECT_NAME}-src"
    BINARY_DIR "${CMAKE_BINARY_DIR}/${FETCH_PROJECT_NAME}-build"
    CONFIGURE_COMMAND "${FETCH_REPOSITORY_CONFIG}"
    BUILD_COMMAND "${FETCH_REPOSITORY_BUILD}"
    INSTALL_COMMAND "${FETCH_REPOSITORY_INSTALL}"
    TEST_COMMAND "${FETCH_REPOSITORY_TEST}"
    PATCH_COMMAND "${FETCH_REPOSITORY_PATCH}"
)